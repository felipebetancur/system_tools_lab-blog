---
import BaseLayout from '@/layouts/BaseLayout.astro';
import { PortfolioScreen } from '@/features/projects';
import {
  getTranslatedProjects,
  getTranslatedSkills,
} from '@/features/projects/service';

import { defaultLanguage, useTranslations, type LanguageCode } from '@/i18n/ui';

const lang =
  (Astro.currentLocale as LanguageCode | undefined) ?? defaultLanguage;
const t = useTranslations(lang, 'homePage');

const pageTitle = t('pageTitle');
const pageDescription = t('pageDescription');

const projects = getTranslatedProjects(lang);
const skills = getTranslatedSkills(lang);

const layoutProps = {
  lang,
  heroGreeting: t('heroGreeting'),
  heroSubtitlePart1: t('heroSubtitlePart1'),
  heroIntroduction: t('heroIntroduction'),
  heroViewWorkButton: t('heroViewWorkButton'),
  heroContactButton: t('heroContactButton'),
  imageNotAvailable: t('imageNotAvailable'),
  featuredBlogTitle: t('featuredBlogTitle'),
  featuredProjectsDescription: t('featuredProjectsDescription'),
  mySkillsTitle: t('mySkillsTitle'),
  mySkillsDescription: t('mySkillsDescription'),
};
---

<BaseLayout pageTitle={pageTitle} pageDescription={pageDescription}>
  <PortfolioScreen {...layoutProps} projects={projects} skills={skills} />
</BaseLayout>
